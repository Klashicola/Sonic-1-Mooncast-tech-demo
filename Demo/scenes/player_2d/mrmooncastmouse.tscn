[gd_scene load_steps=35 format=3 uid="uid://x0bop1i17eyt"]

[ext_resource type="Script" path="res://MoonCast/MC_character_2d.gd" id="1_x65an"]
[ext_resource type="Resource" uid="uid://cjiy0147ccmy3" path="res://Demo/abilities/mooncast_physics.tres" id="2_rii83"]
[ext_resource type="AudioStream" uid="uid://sb06qhlyoftm" path="res://Demo/assets/audio/Sonic 2/jump.wav" id="3_o6288"]
[ext_resource type="Script" path="res://MoonCast/MC_control_set.gd" id="3_xc58p"]
[ext_resource type="Script" path="res://MoonCast/MC_player_anim.gd" id="4_j5cv3"]
[ext_resource type="AudioStream" uid="uid://di134ubcptm8i" path="res://Demo/assets/audio/SFX/roll.wav" id="4_rcomx"]
[ext_resource type="AudioStream" uid="uid://bd5bmykuv1dq6" path="res://Demo/assets/audio/Sonic 2/skid.wav" id="5_fe7cx"]
[ext_resource type="AudioStream" uid="uid://yolp6oc04irg" path="res://Demo/assets/audio/Sonic 2/ouch.wav" id="6_jrcbu"]
[ext_resource type="SpriteFrames" uid="uid://dm67r4cqj7ud5" path="res://Demo/assets/player/mooncast_sonic_2d/sprite_frame_ice.tres" id="7_hprdh"]
[ext_resource type="SpriteFrames" uid="uid://bpvjns0vskghr" path="res://Demo/assets/player/mooncast_sonic_2d/sprite_frame_mooncast.tres" id="7_o1ngo"]
[ext_resource type="Script" path="res://Demo/abilities/switch_skin.gd" id="8_ax5uv"]
[ext_resource type="AudioStream" uid="uid://bdf5oypybgqj1" path="res://Demo/assets/audio/SFX/switch_outfits.ogg" id="9_apyss"]
[ext_resource type="Script" path="res://Demo/abilities/spindash.gd" id="11_jsmc0"]
[ext_resource type="AudioStream" uid="uid://dyqe7bf0gr3xb" path="res://Demo/assets/audio/Sonic 2/spindash_charge.wav" id="12_40a6c"]
[ext_resource type="AudioStream" uid="uid://bjsasecj3g02u" path="res://Demo/assets/audio/Sonic 2/spindash_release.wav" id="13_gukst"]
[ext_resource type="Script" path="res://Demo/abilities/super_peel_out.gd" id="14_oykrb"]
[ext_resource type="Script" path="res://Demo/abilities/drop_dash.gd" id="16_7ai3q"]

[sub_resource type="Resource" id="Resource_04jp1"]
script = ExtResource("3_xc58p")
direction_up = &"up"
direction_down = &"down"
direction_left = &"left"
direction_right = &"right"
action_jump = &"jump"
action_roll = &"down"
action_custom = Dictionary[StringName, StringName]({})
camera_up = &""
camera_down = &""
camera_left = &""
camera_right = &""

[sub_resource type="Resource" id="Resource_ipwss"]
resource_name = "stand"
script = ExtResource("4_j5cv3")
animation = &"default"
speed = 1.0
can_rotate = true
can_flip_h = true
rotation_override = false
rotation_snap = 0.523599
rotation_smooth = true

[sub_resource type="Resource" id="Resource_de70c"]
resource_name = "look_up"
script = ExtResource("4_j5cv3")
animation = &"look_up"
speed = 1.0
can_rotate = true
can_flip_h = true
rotation_override = false
rotation_snap = 0.523599
rotation_smooth = true

[sub_resource type="Resource" id="Resource_12qc5"]
script = ExtResource("4_j5cv3")
animation = &"default"
speed = 1.0
can_rotate = true
can_flip_h = true
rotation_override = false
rotation_snap = 0.523599
rotation_smooth = true

[sub_resource type="Resource" id="Resource_24foh"]
script = ExtResource("4_j5cv3")
animation = &"default"
speed = 1.0
can_rotate = true
can_flip_h = true
rotation_override = false
rotation_snap = 0.523599
rotation_smooth = true

[sub_resource type="Resource" id="Resource_7g42m"]
resource_name = "roll_ball"
script = ExtResource("4_j5cv3")
animation = &"roll_ball"
speed = 1.0
can_rotate = false
can_flip_h = false
rotation_override = false
rotation_snap = 0.523599
rotation_smooth = true

[sub_resource type="Resource" id="Resource_iadjt"]
script = ExtResource("4_j5cv3")
animation = &"walk"
speed = 1.0
can_rotate = true
can_flip_h = true
rotation_override = false
rotation_snap = 0.523599
rotation_smooth = true

[sub_resource type="Resource" id="Resource_4miyg"]
script = ExtResource("4_j5cv3")
animation = &"run"
speed = 1.0
can_rotate = true
can_flip_h = true
rotation_override = false
rotation_snap = 0.523599
rotation_smooth = true

[sub_resource type="Resource" id="Resource_uf82t"]
script = ExtResource("4_j5cv3")
animation = &"skid"
speed = 1.0
can_rotate = true
can_flip_h = true
rotation_override = false
rotation_snap = 0.523599
rotation_smooth = true

[sub_resource type="Resource" id="Resource_xm0aj"]
script = ExtResource("4_j5cv3")
animation = &"default"
speed = 1.0
can_rotate = true
can_flip_h = true
rotation_override = false
rotation_snap = 0.523599
rotation_smooth = true

[sub_resource type="Resource" id="Resource_fdrhr"]
resource_name = "jump_ball"
script = ExtResource("4_j5cv3")
animation = &"jump_ball"
speed = 1.0
can_rotate = false
can_flip_h = true
rotation_override = false
rotation_snap = 0.523599
rotation_smooth = true

[sub_resource type="Resource" id="Resource_3ugxg"]
resource_name = "falling"
script = ExtResource("4_j5cv3")
animation = &"falling"
speed = 1.0
can_rotate = true
can_flip_h = true
rotation_override = false
rotation_snap = 0.523599
rotation_smooth = true

[sub_resource type="Resource" id="Resource_liap4"]
script = ExtResource("4_j5cv3")
animation = &""
speed = 1.0
can_rotate = true
can_flip_h = true
rotation_override = false
rotation_snap = 0.523599
rotation_smooth = true

[sub_resource type="RectangleShape2D" id="RectangleShape2D_x7kbe"]
size = Vector2(20, 38)

[sub_resource type="Resource" id="Resource_jenem"]
resource_name = "spindash"
script = ExtResource("4_j5cv3")
animation = &"spindash"
speed = 1.0
can_rotate = true
can_flip_h = true
rotation_override = false
rotation_snap = 0.523599
rotation_smooth = true

[sub_resource type="Resource" id="Resource_snjwk"]
script = ExtResource("4_j5cv3")
animation = &"drop_dash_charge"
speed = 1.0
can_rotate = true
can_flip_h = false
rotation_override = false
rotation_snap = 0.523599
rotation_smooth = true

[sub_resource type="Resource" id="Resource_0fsb0"]
script = ExtResource("4_j5cv3")
animation = &""
speed = 1.0
can_rotate = true
can_flip_h = true
rotation_override = false
rotation_snap = 0.523599
rotation_smooth = true

[node name="mrmooncastmouse" type="CharacterBody2D"]
floor_stop_on_slope = false
floor_constant_speed = true
floor_block_on_wall = false
floor_snap_length = 15.0
script = ExtResource("1_x65an")
physics = ExtResource("2_rii83")
controls = SubResource("Resource_04jp1")
rotation_static_collision = true
rotation_adjustment_speed = 0.25
anim_stand = SubResource("Resource_ipwss")
anim_look_up = SubResource("Resource_de70c")
anim_balance = SubResource("Resource_12qc5")
anim_crouch = SubResource("Resource_24foh")
anim_roll = SubResource("Resource_7g42m")
anim_run = Dictionary[float, ExtResource("4_j5cv3")]({
0.01: SubResource("Resource_iadjt"),
1.0: SubResource("Resource_4miyg")
})
anim_skid = Dictionary[float, ExtResource("4_j5cv3")]({
0.4: SubResource("Resource_uf82t")
})
anim_push = SubResource("Resource_xm0aj")
anim_jump = SubResource("Resource_fdrhr")
anim_free_fall = SubResource("Resource_3ugxg")
anim_death = SubResource("Resource_liap4")
sfx_bus = &"SFX"
sfx_jump = ExtResource("3_o6288")
sfx_roll = ExtResource("4_rcomx")
sfx_skid = ExtResource("5_fe7cx")
sfx_hurt = ExtResource("6_jrcbu")
metadata/is_player = true

[node name="RectangleShape" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_x7kbe")

[node name="SpritesheetMoon" type="AnimatedSprite2D" parent="."]
texture_filter = 1
position = Vector2(2, -1)
sprite_frames = ExtResource("7_o1ngo")
animation = &"spindash"

[node name="SkinSwitcher" type="Node" parent="."]
script = ExtResource("8_ax5uv")
button_switch = &"switch_chars"
skin_sfx = ExtResource("9_apyss")
skins = Array[SpriteFrames]([ExtResource("7_hprdh"), ExtResource("7_o1ngo")])

[node name="Spindash" type="Node" parent="."]
script = ExtResource("11_jsmc0")
spindash_animation = SubResource("Resource_jenem")
spindash_inital = 3.0
spindash_accumulate = 0.5
spindash_max_charge = 10.0
sfx_charge = ExtResource("12_40a6c")
sfx_release = ExtResource("13_gukst")

[node name="SuperPeelOut" type="Node" parent="."]
script = ExtResource("14_oykrb")

[node name="DropDash" type="Node" parent="."]
script = ExtResource("16_7ai3q")
forward_speed = 10.0
neutral_speed = 5.0
charge_button = &"jump"
anim_charge = SubResource("Resource_snjwk")
anim_launch = SubResource("Resource_0fsb0")
